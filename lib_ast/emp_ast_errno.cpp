//-----------------------------------------------------------------------------
// emp_ast_errno.h - rgba8.org
//-----------------------------------------------------------------------------
#include "emp_ast_errno.h"

//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------
#include <errno.h>
#include <string.h>

//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------
namespace emp { namespace ast {

//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------
EMP_RETURN int get_errno(void)
{ return errno; }

//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------
void set_errno(c_int a_siValue)
{ errno = a_siValue; }

//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------
cpc_char errno_to_cstr(void)
{
    c_int siErrno = get_errno();
    errno = 0;
    cpc_char szResult = strerror(siErrno);
    EMP_ASSERT(szResult);
    EMP_ASSERT(errno == 0 || errno == ERANGE);
    return szResult;
}

//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------
} }

//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------

