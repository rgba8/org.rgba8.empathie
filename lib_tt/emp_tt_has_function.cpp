//-----------------------------------------------------------------------------
//
// File Name : emp_tt_has_function.cpp
//
// Creation Date : mer. 12 sept. 2012 12:13:53 CEST
//
// Modification Date : mar. 26 nov. 2013 18:10:11 CET
//
// Created By : luh - www.rgba8.org
//
// Description :
//
//-----------------------------------------------------------------------------
#include "emp_tt_has_function.h"

#include "emp_tt_assert.h"

//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------
#include "emp_xx_nocopy_class_base.h"

//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------
namespace emp { namespace tt {

//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------
EMP_TT_HAS_FUNCTION(pre_load, bool (S::*)(void))

//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------
struct test_1
{
    virtual ~test_1(void) {}
    bool pre_load(void) { return true; };
};

EMP_NOCOPY_CLASS_BASE(test_2, public, test_1)
public:
};

struct test_3
{
};

EMP_STATIC_ASSERT(has_pre_load<test_3>::value == false);
EMP_STATIC_ASSERT(has_pre_load<test_2>::value);
EMP_STATIC_ASSERT(has_pre_load<test_1>::value);

//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------
} }

//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------

